<mat-card id="main-Card" style="overflow-y: auto;">
    <mat-tab-group>
        <mat-tab label="Role Config">

            <mat-card-content>
              <table>
               <tbody>
                   <tr>
                       <td>Role Name</td>
                       <td>:</td>
                       <td>
                       <mat-form-field class="example-full-width" appearance="fill">
                       <mat-label>Enter Role Name</mat-label>
                       <input matInput type="text"  #roleName>
                       </mat-form-field>
                    </td>
                   </tr>
                   <tr>
                    <td>Module Access</td>
                    <td>:</td>
                    <td>
                        <mat-form-field class="example-full-width" appearance="fill" >
                            <mat-label>Select Module Access</mat-label>
                            <mat-select  multiple #modules>
                                <mat-option *ngFor="let data of ModuleList"  value={{data.sno}} >{{data.name}}</mat-option>
                             </mat-select>
                            </mat-form-field>
                    </td>
                </tr>
                <tr>
                    <td>Approval Access</td>
                    <td>:</td>
                    <td>
                        <mat-form-field class="example-full-width" appearance="fill">
                            <mat-label>Select Approval Access</mat-label>
                            <mat-select #access>
                                <mat-option value="True">True</mat-option>
                                <mat-option value="False">False</mat-option>
                             </mat-select>
                            </mat-form-field>
                    </td>
                </tr>
               </tbody>
              </table>
              <button mat-raised-button color="primary" class="role" (click)="saveConfig(roleName.value,modules,access)">Submit</button>
            </mat-card-content>
      <br>
            <mat-card >
                <mat-card-content>
                  <div class="container">
                      <div class="row">
                          <div class="col-sm-1"></div>
                          <div class="col-sm-9">
                              <mat-form-field style="width:200px;" id="searchBar">
                                  <span matPrefix></span>
                                  <input matInput type="tel" placeholder="search" (change)="searchRole($event)" >
                                  <button matSuffix mat-button><mat-icon>search</mat-icon></button>
                              </mat-form-field>
                              <table mat-table  [dataSource]="config" *ngIf="!Loading" class="mat-elevation-z8 demo-table">
                                  <!-- Sno -->
                                  <ng-container matColumnDef="roleId">
                                      <th mat-header-cell *matHeaderCellDef> Sno </th>
                                      <td mat-cell *matCellDef="let element ; let i = index"> {{i+1}} </td>
                                  </ng-container>
                                  <!-- RoleName -->
                                  <ng-container matColumnDef="roleName">
                                      <th mat-header-cell *matHeaderCellDef> RoleName </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.roleName}}"> {{element.roleName}} </td>
                                   </ng-container>
                                   <!-- AccessModule -->
                                   <ng-container matColumnDef="accessModule">
                                      <th mat-header-cell *matHeaderCellDef> Module Access </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.accessModule | modules}}"> {{element.accessModule | modules}} </td>
                                     </ng-container>
                                     <!-- Access Aprroval-->
                                     <ng-container matColumnDef="access">
                                      <th mat-header-cell *matHeaderCellDef> Access </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.accessApproval}}"> {{element.accessApproval}} </td>
                                     </ng-container>
                                     <!-- createdBy-->
                                     <ng-container matColumnDef="createdBy">
                                      <th mat-header-cell *matHeaderCellDef> CreatedBy </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.createdBy}}"> {{element.createdBy}} </td>
                                     </ng-container>
                                     <!---updatedBy-->
                                     <ng-container matColumnDef="updatedBy">
                                      <th mat-header-cell *matHeaderCellDef> UpdatedBy </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.updatedBy}}"> {{element.updatedBy}} </td>
                                     </ng-container>
                                     <!--createdAt-->
                                     <ng-container matColumnDef="createdat">
                                      <th mat-header-cell *matHeaderCellDef> CreatedAt </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.createdat | date : 'mediumDate'}}"> {{element.createdat | date : 'mediumDate'}} </td>
                                     </ng-container>
                                     <!--CreatedBy-->
                                     <ng-container matColumnDef="updatedat">
                                      <th mat-header-cell *matHeaderCellDef> UpdatedAt </th>
                                      <td mat-cell *matCellDef="let element" matTooltip="{{element.updatedat | date : 'mediumDate'}}"> {{element.updatedat | date : 'mediumDate'}} </td>
                                     </ng-container>
                                     <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                     <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                              </table>
                              <table>
                                  <tr *ngIf="!config.length">
                                    <td style="text-align: center;">
                                      No Records Found!
                                    </td>
                                  </tr>
                                </table>
                                <mat-paginator [pageSizeOptions]="[5, 10, 20]" [pageSize]="size" [length]="length" [pageIndex]="page"
                                         showFirstLastButtons  (page)="pageEvent($event)"
                                         aria-label="Select page of periodic elements">
                              </mat-paginator>
                              <div *ngIf="Loading"  style="display: flex; justify-content: center; 
                              align-items: center; background: white;">
                             <mat-progress-spinner color="primary" mode="indeterminate">
                             </mat-progress-spinner>
                             </div>
                      </div>
                          <div class="col-sm-1"></div>
                      </div>
                  </div>
              </mat-card-content>   
              </mat-card>
  
        </mat-tab> 
        <mat-tab label="Leave Config">
            <mat-card-content >
                
                <div *ngIf="edit || !leavePolicy">
                <table >
                    <tbody>
                        <tr>
                            <td>Paid Leave</td>
                            <td>:</td>
                            <td>
                                <mat-form-field appearance="fill">
                                    <mat-label>Enter Paid Leave</mat-label>
                                    <input matInput type="number" #paidLeave>
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>Casual Leave</td>
                            <td>:</td>
                            <td>
                                <mat-form-field appearance="fill">
                                    <mat-label>Enter Casual Leave</mat-label>
                                    <input matInput type="number" #casualLeave>
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>Casual Carry Fwd</td>
                            <td>:</td>
                            <td>
                                <mat-form-field appearance="fill">
                                    <mat-label>Enter Casual Carry Fwd</mat-label>
                                    <input matInput type="number" #CCarryFwdd>
                                </mat-form-field>
                            </td>
                        </tr>
                        <tr>
                            <td>Paid Carry Fwd</td>
                            <td>:</td>
                            <td>
                                <mat-form-field appearance="fill">
                                    <mat-label>Enter Paid Carrry Fwd</mat-label>
                                    <input matInput type="number" #PCarryFwd>
                                </mat-form-field>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button mat-raised-button color="primary" class="submit" 
                (click)="saveLeaveConfig(paidLeave.value, casualLeave.value, CCarryFwdd.value, PCarryFwd.value)">Submit</button>
                </div>
                <mat-icon id="edit" *ngIf="(!edit && leavePolicy)" (click)="setEdit()">edit</mat-icon>
                <div *ngIf="(!edit && leavePolicy)">
                <table>
                    <tbody>
                        <tr>
                            <td>Paid Leave</td>
                            <td>:</td>
                            <td>
                                {{leavePolicy.paid_leave}}
                            </td>
                        </tr>
                        <tr>
                            <td>Casual Leave</td>
                            <td>:</td>
                            <td>
                                {{leavePolicy.casual_leave}}
                            </td>
                        </tr>
                        <tr>
                            <td>Casual Carry Fwd</td>
                            <td>:</td>
                            <td>
                                {{leavePolicy.casual_carry_fd}}
                            </td>
                        </tr>
                        <tr>
                            <td>Paid Carry Fwd</td>
                            <td>:</td>
                            <td>
                                {{leavePolicy.paid_carry_fd}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </mat-card-content>
        </mat-tab>
        <mat-tab label="National Holiday">
            <mat-card-content >
             
                <br>
               <br>               
               <div>
                 <mat-toolbar *ngIf="currentFile" class="progress-bar">
                   <mat-progress-bar color="accent" [value]="progress"></mat-progress-bar>
                   <span class="progress">{{ progress }}%</span>
                 </mat-toolbar>
                 <mat-form-field>
               <div>
                  <mat-toolbar>
                    <input matInput  [value]="fileName" #file />
                    <button mat-flat-button color="primary"
                       [disabled]="!currentFile" (click)="upload()">
                    Upload
                    </button>
                  </mat-toolbar>
                   <input type="file" id="fileInput" (change)="selectFile($event)"
                     name="fileInput" accept=".xlsx, .xls, .csv"/>
               </div>
                  </mat-form-field>
               </div>
               <div *ngIf="message" class="message">{{ message }}</div>
               <button mat-raised-button (click)="downloadSampleNationalHoliday()" class="download"> Sample Sheet</button>
               </mat-card-content>
        </mat-tab>
    </mat-tab-group>

</mat-card>